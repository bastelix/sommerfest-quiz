{% extends 'layout.twig' %}

{% block title %}{{ event.name }}{% endblock %}

{% block head %}
  <meta name="csrf-token" content="{{ csrf_token }}">
  <link rel="stylesheet" href="{{ basePath }}/css/main.css">
  <link rel="stylesheet" href="{{ basePath }}/css/dark.css">
  <link rel="stylesheet" href="{{ basePath }}/css/highcontrast.css">
{% endblock %}

{% block body_class %}uk-padding{% endblock %}

{% block body %}
  {% embed 'topbar.twig' %}
    {% block center %}
      <span class="uk-navbar-title uk-text-center">{{ event.name }}</span>
    {% endblock %}
  {% endembed %}
  <div class="uk-container uk-container-large">
    {% if event.description %}
      <p class="uk-text-lead uk-text-center">{{ event.description }}</p>
    {% endif %}
    <div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-small" uk-grid>
      {% for cat in catalogs %}
        {% set key = cat.slug ?? cat.uid ?? cat.sort_order ?? cat.id %}
        <div>
          <div class="uk-card uk-card-default uk-card-hover catalog-card" tabindex="0" data-start-url="{{ basePath }}/?event={{ event.uid }}&katalog={{ key|url_encode }}">
            <div class="uk-card-body">
              <h3 class="uk-card-title">{{ cat.name ?? key }}</h3>
              {% if cat.description %}
                <p>{{ cat.description }}</p>
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script src="{{ basePath }}/js/custom-icons.js" defer></script>
  <script src="{{ basePath }}/js/catalog-grid.js" defer></script>
{% endblock %}
