{% extends 'layout.twig' %}

{#
  Base layout for app/editor pages. Keeps only the shared core styles from
  layout.twig and intentionally avoids legacy marketing bundles.
#}

{% block head %}
  {% set includeLandingStyles = includeLandingStyles|default(true) %}
  <link rel="stylesheet" href="{{ basePath }}/css/main.css">
  {% if includeLandingStyles %}
    <link rel="stylesheet" href="{{ basePath }}/css/topbar.landing.css">
  {% endif %}
  {% set cfg = config is defined ? config : {} %}
  {% set theme = attribute(cfg, 'startTheme')|default('light')|lower %}
  {% set prefersDark = theme == 'dark' %}
  {% set darkMedia = prefersDark ? 'all' : '(prefers-color-scheme: dark)' %}
  <link rel="stylesheet" href="{{ basePath }}/css/dark.css" media="{{ darkMedia }}"{% if not prefersDark %} disabled{% endif %}>
  <link rel="stylesheet" href="{{ basePath }}/css/highcontrast.css">
{% endblock %}
