<div id="domains" class="uk-card uk-card-default uk-card-body uk-margin">
  <div class="uk-flex uk-flex-between uk-flex-middle uk-flex-wrap">
    <h3 class="uk-heading-bullet uk-margin-remove-bottom">{{ t('heading_domains') }}</h3>
    <div class="uk-margin-small-top@s">
      <button
        type="button"
        class="uk-button uk-button-default"
        data-renew-ssl-main
        data-success="{{ t('notify_domain_ssl_issued')|e('html_attr') }}"
        data-error="{{ t('notify_domain_ssl_error')|e('html_attr') }}"
      >
        <span uk-icon="lock" class="uk-margin-small-right"></span>{{ t('action_renew_ssl') }}
      </button>
    </div>
  </div>
  <div class="uk-margin-top">
    <p class="uk-text-meta">{{ t('text_domain_management_hint') }}</p>
    <div class="uk-card uk-card-default uk-card-body uk-margin-small-top">
      <form
        id="domainForm"
        class="uk-form-stacked"
        novalidate
        data-invalid="{{ t('notify_domain_invalid') }}"
        data-error="{{ t('notify_domain_error') }}"
        data-success="{{ t('notify_domain_saved') }}"
      >
        <fieldset class="uk-fieldset">
          <legend
            id="domainLegend"
            class="uk-legend"
            data-add-label="{{ t('heading_domain_add') }}"
            data-edit-label="{{ t('heading_domain_edit') }}"
          >
            {{ t('heading_domain_add') }}
          </legend>
          <input type="hidden" id="domainId" name="id">
          <div class="uk-alert uk-alert-danger uk-margin-small-bottom" id="domainFormError" hidden role="alert"></div>
          <div class="uk-grid-small" uk-grid>
            <div class="uk-width-1-1 uk-width-1-2@m">
              <label class="uk-form-label" for="domainHost">{{ t('label_domain_host') }}</label>
              <div class="uk-form-controls">
                <input
                  class="uk-input"
                  type="text"
                  id="domainHost"
                  name="domain"
                  required
                  placeholder="{{ t('placeholder_domain_host') }}"
                  autocomplete="off"
                >
              </div>
              <p class="uk-text-meta uk-margin-small">{{ t('text_domain_host_hint') }}</p>
            </div>
            <div class="uk-width-1-1 uk-width-1-2@m">
              <label class="uk-form-label" for="domainLabel">{{ t('label_domain_label') }}</label>
              <div class="uk-form-controls">
                <input
                  class="uk-input"
                  type="text"
                  id="domainLabel"
                  name="label"
                  maxlength="120"
                  placeholder="{{ t('placeholder_domain_label') }}"
                  autocomplete="off"
                >
              </div>
              <p class="uk-text-meta uk-margin-small">{{ t('text_domain_label_hint') }}</p>
            </div>
            <div class="uk-width-1-1 uk-width-1-2@m">
              <label class="uk-form-label" for="domainNamespace">{{ t('label_domain_namespace') }}</label>
              <div class="uk-form-controls">
                <select class="uk-select" id="domainNamespace" name="namespace">
                  <option value="">{{ t('text_domain_namespace_none') }}</option>
                  {% for entry in available_namespaces|default([]) %}
                    {% set entryNamespace = entry.namespace|default('') %}
                    {% if entryNamespace is not empty %}
                      <option value="{{ entryNamespace }}">{{ entry.label|default(entryNamespace) }}</option>
                    {% endif %}
                  {% endfor %}
                </select>
              </div>
              <p class="uk-text-meta uk-margin-small">{{ t('text_domain_namespace_hint') }}</p>
            </div>
            <div class="uk-width-1-1 uk-width-1-2@m">
              <label class="uk-form-label">{{ t('label_domain_status') }}</label>
              <div class="uk-form-controls">
                <label class="uk-text-small">
                  <input class="uk-checkbox" type="checkbox" id="domainActive" name="is_active" checked>
                  {{ t('label_domain_active') }}
                </label>
              </div>
            </div>
            <div class="uk-width-1-1 uk-flex uk-flex-middle uk-flex-between">
              <span class="uk-text-meta">{{ t('text_domain_submit_hint') }}</span>
              <div class="uk-flex uk-flex-middle" style="gap: 8px;">
                <button type="submit" class="uk-button uk-button-primary">{{ t('action_domain_save') }}</button>
                <button type="button" class="uk-button uk-button-default" id="domainFormCancel" hidden>
                  {{ t('action_cancel') }}
                </button>
              </div>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
    <div class="uk-overflow-auto">
      <table
        id="domainTable"
        class="uk-table uk-table-divider uk-table-small uk-table-hover uk-table-responsive"
        data-loading="{{ t('text_domains_loading') }}"
        data-empty="{{ t('text_domains_empty') }}"
        data-error="{{ t('text_domains_error') }}"
      >
        <thead>
          <tr>
            <th>{{ t('column_domain') }}</th>
            <th>{{ t('column_domain_label') }}</th>
            <th>{{ t('column_domain_namespace') }}</th>
            <th>{{ t('column_domain_status') }}</th>
            <th class="uk-table-shrink uk-text-center">{{ t('column_actions') }}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="5">{{ t('text_domains_loading') }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
