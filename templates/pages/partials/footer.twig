{% set footerColumns = cmsFooterColumns|default([]) %}
{% set footerNavigation = cmsFooterNavigation|default([]) %}
{% set legalLinks = cmsLegalNavigation|default([]) %}
{% set hasFooterColumns = false %}
{% for column in footerColumns %}
  {% if column.items|default([]) %}
    {% set hasFooterColumns = true %}
  {% endif %}
{% endfor %}

{% if hasFooterColumns or footerNavigation or legalLinks %}
  <div class="cms-footer">
    {% if hasFooterColumns %}
      <div class="cms-footer__section">
        <div class="cms-footer__columns uk-grid-small uk-child-width-1-1 uk-child-width-1-3@m" uk-grid>
          {% for column in footerColumns %}
            {% if column.items|default([]) %}
              <div class="cms-footer__column">
                <ul class="uk-subnav uk-subnav-divider">
                  {% for link in column.items|default([]) %}
                    <li>
                      <a href="{{ link.href|default('#') }}"{% if link.isExternal|default(false) %} target="_blank" rel="noopener"{% endif %}>{{ link.label }}</a>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    {% elseif footerNavigation %}
      <div class="cms-footer__section">
        <ul class="uk-subnav uk-subnav-divider">
          {% for link in footerNavigation %}
            <li>
              <a href="{{ link.href|default('#') }}"{% if link.isExternal|default(false) %} target="_blank" rel="noopener"{% endif %}>{{ link.label }}</a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    {% if legalLinks %}
      <div class="cms-footer__section">
        <ul class="uk-subnav uk-subnav-divider">
          {% for link in legalLinks %}
            <li>
              <a href="{{ link.href|default('#') }}"{% if link.isExternal|default(false) %} target="_blank" rel="noopener"{% endif %}>{{ link.label }}</a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  </div>
{% endif %}
