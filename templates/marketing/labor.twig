{% extends 'layout.twig' %}

{% import _self as laborMedia %}

{% macro asset(path, assets, basePath) %}
  {{ assets[path]|default(basePath ~ path) }}
{% endmacro %}

{% set megaNav = [
  {
    'label': 'Angebot',
    'items': [
      { 'label': 'Kalibrierbereiche', 'href': '#kalibrierbereiche', 'explain': 'bereiche' },
      { 'label': 'Messgrößen', 'href': '#messgroessen', 'explain': 'messgroessen' },
      { 'label': 'Digitales Portal', 'href': '#digitales-portal', 'explain': 'portal' }
    ],
    'explains': [
      {
        'key': 'bereiche',
        'title': 'Alle Kalibrierbereiche',
        'text': 'Elektrische Messgrößen, Temperatur, Vor-Ort-Kalibrierung und Prüfmittelmanagement auf einen Blick.',
        'subline': 'Kalibrierungen & Services gebündelt'
      },
      {
        'key': 'messgroessen',
        'title': 'Messgrößen im Überblick',
        'text': 'Von Spannung über Drehmoment bis Feuchte – transparent dokumentiert und rückführbar.',
        'subline': 'Elektrisch, mechanisch, thermisch'
      },
      {
        'key': 'portal',
        'title': 'Digitales Messmittelportal',
        'text': 'calServer bündelt Zertifikate, Fristen und Geräte-Historien – inkl. Rollen, Rechte und API.',
        'subline': '24/7 verfügbar, DSGVO-konform'
      }
    ]
  },
  {
    'label': 'Qualität & Ablauf',
    'items': [
      { 'label': 'Kennzahlen & SLAs', 'href': '#kennzahlen', 'explain': 'kpi' },
      { 'label': 'Labor im Überblick', 'href': '#laborprofil', 'explain': 'labor' },
      { 'label': 'Ablauf & Tracking', 'href': '#ablauf', 'explain': 'ablauf' }
    ],
    'explains': [
      {
        'key': 'kpi',
        'title': 'Transparente Kennzahlen',
        'text': 'DAkkS-Status, Termintreue und Rückläuferquote zeigen die Stabilität unseres Labors.',
        'subline': '25.000+ Kalibrierungen · 98,7 % Termintreue'
      },
      {
        'key': 'labor',
        'title': 'Labor im Fokus',
        'text': 'Akkreditierte Messketten, kurze Liegezeiten und persönlicher Service mit Abhol-Option.',
        'subline': 'DIN EN ISO/IEC 17025 geprüft'
      },
      {
        'key': 'ablauf',
        'title': 'Geführter Ablauf',
        'text': 'Vom Anmelden bis zum Zertifikat – klar strukturierter Prozess mit Status-Tracking.',
        'subline': 'Anmeldung · Abholung · Kalibrierung · Zertifikat'
      }
    ]
  },
  {
    'label': 'Branchen & Team',
    'items': [
      { 'label': 'Einsatzfelder', 'href': '#branchen', 'explain': 'branchen' },
      { 'label': 'Über uns', 'href': '#labor-historie', 'explain': 'team' },
      { 'label': 'Akkreditierung', 'href': '#akkreditierung', 'explain': 'dakkS' }
    ],
    'explains': [
      {
        'key': 'branchen',
        'title': 'Stories aus der Praxis',
        'text': 'Automotive, Energie, Luftfahrt oder Pharma – jede Branche mit passendem Workflow.',
        'subline': '8 Branchen mit konkreten Use Cases'
      },
      {
        'key': 'team',
        'title': 'Menschen im Labor',
        'text': '28 Spezialist:innen für elektrische und thermische Messtechnik – bundesweit im Einsatz.',
        'subline': 'Feste Ansprechpartner:innen & Service-Slots'
      },
      {
        'key': 'dakkS',
        'title': 'Auditierte Qualität',
        'text': 'DAkkS-Urkunde, dokumentierte Normale und regelmäßige Audits sichern die Rückführbarkeit.',
        'subline': 'DIN EN ISO/IEC 17025'
      }
    ]
  },
  {
    'label': 'Service',
    'items': [
      { 'label': 'Prozess-Features', 'href': '#prozesse', 'explain': 'prozesse' },
      { 'label': 'FAQ', 'href': '#faq', 'explain': 'faq' },
      { 'label': 'Kontakt', 'href': '#kontakt', 'explain': 'kontakt' }
    ],
    'explains': [
      {
        'key': 'prozesse',
        'title': 'Laborlogistik & Tracking',
        'text': 'Track & Trace, Rollenmodelle und signierte Zertifikate für durchgängige Compliance.',
        'subline': 'Transparenz wie in der Logistik'
      },
      {
        'key': 'faq',
        'title': 'Antworten parat',
        'text': 'Fragen zu Messmitteln, Laufzeiten und Versand sind kompakt erklärt.',
        'subline': 'Kalibrierung, Versand, Dokumentation'
      },
      {
        'key': 'kontakt',
        'title': 'Direkter Draht',
        'text': 'Anfrage stellen, Rückruf buchen oder einen Labor-Rundgang vereinbaren.',
        'subline': 'Antwort innerhalb eines Werktags'
      }
    ]
  }
] %}
{% set laborAssetMap = laborAssets|default({}) %}
{% set contactLink = { 'label': 'Kalibrierung anfragen', 'href': '#kontakt' } %}
{% set laborLogoUrl = basePath ~ '/uploads/labor/labor-logo.png' %}
{% set pageConfig = {
  'page': 'startseite',
  'title': 'Kalibrierlabor – DAkkS-akkreditiert',
  'sections': [
    {
      'type': 'HeroBlock',
      'headline': 'DAkkS-konforme Kalibrierungen – präzise, rückführbar, zuverlässig.',
      'subline': 'Wir kalibrieren Ihre Messmittel mit hoher Genauigkeit, kurzen Durchlaufzeiten und sauber dokumentierter Rückführbarkeit – für sichere Audits und zuverlässige Prozesse in Ihrem Unternehmen.',
      'variant': 'split',
      'background': 'gradient',
      'tone': 'dark',
      'buttons': [],
      'valueProps': [
        { 'icon': 'file-text', 'title': 'Präzise Ergebnisse', 'description': 'Kalibrierungen nach DIN EN ISO/IEC 17025' },
        { 'icon': 'bolt', 'title': 'Schnelle Bearbeitung', 'description': 'Kurze Durchlaufzeiten & Expressservice' },
        { 'icon': 'lock', 'title': 'Rückverfolgbare Dokumentation', 'description': 'Vollständig und auditfähig' }
      ],
      'trustBadges': [
        'DAkkS-akkreditiert nach DIN EN ISO/IEC 17025',
        'Auditfeste Zertifikate & nachvollziehbare Messketten',
        'Verbindliche Durchlaufzeiten & verlässliche Terminplanung'
      ]
    },
    {
      'type': 'TextBlock',
      'title': 'Unsere Vision',
      'tone': 'light',
      'variant': 'centered',
      'size': 'large',
      'text': 'Entscheidungen brauchen messbare Sicherheit – präzise, rückführbar und jederzeit verfügbar.'
    },
    {
      'type': 'MeasurementTicker',
      'anchor': 'messgroessen',
      'title': 'Messgrößen im Überblick',
      'label': 'Alle Messgrößen von Systems Engineering',
      'items': [
        'Gleich- & Wechselspannung',
        'Gleich- & Wechselstrom',
        'Widerstand & Niederohm',
        'Frequenz, Zeitmarken & Impuls',
        'Leistung & Energie',
        'Temperaturfühler & Thermometer',
        'Druck (absolut & relativ)',
        'Drehmoment & Drehzahl',
        'Länge, Winkel & Dimension',
        'Feuchte & Klima',
        'Signal- und Prozesskalibratoren',
        'Prüfstände & Multifunktionsgeräte'
      ]
    },
    {
      'type': 'KpiBand',
      'anchor': 'kennzahlen',
      'title': 'Kennzahlen aus dem Laboralltag',
      'columns': { 's': 2, 'm': 3, 'l': 4 },
      'items': [
        { 'value': '25.000+', 'label': 'Kalibrierungen pro Jahr', 'description': 'Skalierte Prozesse mit eingespielten Routinen und stabilen Abläufen.' },
        { 'value': 'Seit 1994', 'label': 'DAkkS-akkreditiert', 'description': 'DIN EN ISO/IEC 17025 – kontinuierlich auditiert und rückführbar.' },
        { 'value': '98,7 %', 'label': 'Termintreue', 'description': 'Verbindliche Fertigstellung ohne ungeplante Produktionsstillstände.' },
        { 'value': '< 0,1 %', 'label': 'Rückläuferquote', 'description': 'Nahezu fehlerfreie Ergebnisse dank dokumentierter Prüfpfade.' }
      ]
    },
    {
      'type': 'ProcessStepper',
      'anchor': 'laborprofil',
      'title': 'Unser Labor auf einen Blick',
      'variant': 'muted',
      'steps': [
        {
          'title': 'DAkkS-akkreditiert',
          'text': 'Rückführbare Messergebnisse nach DIN EN ISO/IEC 17025.',
          'icon': 'star'
        },
        {
          'title': 'Schnelle Durchlaufzeiten',
          'text': 'Planbare Prozesse, geringe Liegezeiten, flexible Terminabstimmung.',
          'icon': 'clock'
        },
        {
          'title': 'Modernes Labor',
          'text': 'Hochpräzise Referenznormale und dokumentierte Kalibrierketten.',
          'icon': 'settings'
        },
        {
          'title': 'Kompletter Service',
          'text': 'Abhol-/Bringservice, Prüfmittelmanagement und digitale Zertifikate.',
          'icon': 'cart'
        }
      ],
      'media': {
        'type': 'carousel',
        'items': [
          { 'src': laborMedia.asset('/assets/labor-hero.jpg', laborAssetMap, basePath), 'alt': 'Kalibrierlabor mit Referenzgeräten' },
          { 'src': laborMedia.asset('/assets/kalibrierung-labor-detail.jpg', laborAssetMap, basePath), 'alt': 'Detailaufnahme eines Kalibrierplatzes' }
        ],
        'caption': 'Ein Blick in unser akkreditiertes Labor – präzise, dokumentiert und auf schnelle Durchlaufzeiten ausgelegt.'
      },
      'cta': {
        'label': 'Labor-Rundgang vereinbaren',
        'link': '/kontakt',
        'style': 'ghost',
        'size': 'small'
      }
    },
    {
      'type': 'CardGrid',
      'anchor': 'kalibrierbereiche',
      'title': 'Unsere Kalibrierbereiche',
      'columns': 4,
      'variant': 'split',
      'tone': 'light',
      'items': [
        {
          'image': laborMedia.asset('/assets/messgroessen-elektrisch.jpg', laborAssetMap, basePath),
          'title': 'Elektrische Messgrößen',
          'text': 'Spannung, Strom, Widerstand, Frequenz, Leistung.',
          'link': '/kalibrierung/elektrisch'
        },
        {
          'image': laborMedia.asset('/assets/temperatur.jpg', laborAssetMap, basePath),
          'title': 'Temperatur',
          'text': 'Thermometer, Fühler, Logger.',
          'link': '/kalibrierung/temperatur'
        },
        {
          'image': laborMedia.asset('/assets/vor-ort.jpg', laborAssetMap, basePath),
          'title': 'Vor-Ort-Kalibrierung',
          'text': 'Direkt bei Ihnen in der Produktion.',
          'link': '/kalibrierung/vor-ort'
        },
        {
          'image': laborMedia.asset('/assets/pruefmittel.jpg', laborAssetMap, basePath),
          'title': 'Prüfmittel&shy;management',
          'text': 'Digital, transparent, automatisiert.',
          'link': '/pruefmittelmanagement'
        }
      ]
    },
    {
      'type': 'ProcessStepper',
      'anchor': 'ablauf',
      'title': 'So funktioniert eine Kalibrierung bei uns',
      'variant': 'muted',
      'steps': [
        { 'title': '1. Messmittel anmelden', 'text': 'Einfach online oder per Formular.' },
        { 'title': '2. Versand / Abholung', 'text': 'Sie senden das Gerät – oder wir holen es ab.' },
        { 'title': '3. Kalibrierung', 'text': 'Akkreditiert, dokumentiert, rückführbar.' },
        { 'title': '4. Zertifikat erhalten', 'text': 'Digital, sicher archiviert, jederzeit abrufbar.' }
      ]
    },
    {
      'type': 'StorySlider',
      'anchor': 'branchen',
      'title': 'Unsere Branchen – Funktionen, die den Alltag erleichtern',
      'tags': ['Automotive', 'Energie', 'Industrie', 'Halbleiter', 'Aviation', 'Rail', 'Life Sciences', 'Public'],
      'stories': [
        {
          'title': 'Automotive & Mobilität',
          'text': 'Serienkalibrierungen, Rückrufe und Linienfreigaben laufen über standardisierte Workflows mit klaren Status und digitalen Zertifikaten.',
          'badge': 'Automotive'
        },
        {
          'title': 'Energie & Versorger',
          'text': 'Prüfmittel, Schalthandlungen und Wartungsfenster bleiben synchron – mit Erinnerungen, Ticketmanagement und lückenloser Dokumentation.',
          'badge': 'Energie'
        },
        {
          'title': 'Maschinen- & Anlagenbau',
          'text': 'Kalibrierungen, Wartungen und Ersatzteil-Tracking werden gemeinsam geplant; Serviceberichte und Stücklisten bleiben für QS und Einkauf nachvollziehbar.',
          'badge': 'Industrie'
        },
        {
          'title': 'Halbleiter & Elektronik',
          'text': 'Reinraum-geeignete Vor-Ort-Teams, Messketten mit Guardband und eng getaktete Umläufe sichern stabile Prozesse ohne Anlagenstillstand.',
          'badge': 'Halbleiter'
        },
        {
          'title': 'Luft- & Raumfahrt',
          'text': 'Konfigurationsmanagement, Seriennummern-Tracking und akkreditierte Prüfberichte sorgen für Nachweisführung entlang der gesamten Supply Chain.',
          'badge': 'Aviation'
        },
        {
          'title': 'Bahn & Verkehr',
          'text': 'Fahrleitungs-, Signal- und Werkstattmessmittel werden gebündelt terminiert – mit Eskalationspfaden und dokumentierten Prüffristen.',
          'badge': 'Rail'
        },
        {
          'title': 'Pharma & Life Sciences',
          'text': 'Audit-Trails, Validierungsunterlagen und Temperatur-/Druckketten bleiben versioniert; Freigaben erfolgen rollenbasiert und revisionssicher.',
          'badge': 'Life Sciences'
        },
        {
          'title': 'Forschung & öffentliche Hand',
          'text': 'Laborverbünde, Institute und Stadtwerke teilen Messmittelpools, buchen Kalibrierfenster online und erhalten transparente Budget-Reports.',
          'badge': 'Public'
        }
      ]
    },
    {
      'type': 'Timeline',
      'anchor': 'labor-historie',
      'eyebrow': 'Historie',
      'title': 'Unsere Geschichte – 40+ Jahre Laborentwicklung',
      'intro': 'Vom ersten akkreditierten Messplatz bis zum mobilen Vor-Ort-Labor – jeder Meilenstein dokumentiert, auditiert und verbessert.',
      'text': 'Über 40 Jahre Laborpraxis prägen unser Team aus Ingenieurinnen, Messtechnikern und Logistikerinnen. Unser <strong>DAkkS-akkreditiertes Labor</strong> verbindet modernste Messtechnik mit präzisen Prozessen und persönlicher Betreuung.\n\nSeit den ersten Kalibrieraufträgen greifen Prozesse, Technik und Menschen ineinander. Jede Ausbaustufe – vom stationären Messplatz über den erweiterten Laborstandort bis zum mobilen Vor-Ort-Labor – wurde lückenlos dokumentiert und kontinuierlich geschärft, damit Sie jederzeit auf <strong>rückführbare, normgerechte und verlässlich dokumentierte Ergebnisse</strong> bauen können.',
      'highlights': [
        { 'label': 'Team', 'value': '28 Spezialistinnen für elektrische und thermische Messtechnik' },
        { 'label': 'Standort', 'value': 'Stolberg (Rheinland) – Leimberg 9' },
        { 'label': 'Akkreditierung', 'value': 'DAkkS nach DIN EN ISO/IEC 17025' },
        { 'label': 'Service', 'value': 'Feste Ansprechpartner, abgestimmte Slots, Abholservice' },
        { 'label': 'Erfahrung', 'value': 'Über 40 Jahre dokumentierte Kalibrierpraxis' }
      ],
      'milestones': [
        '40+ Jahre Laborpraxis',
        'Erster akkreditierter Messplatz',
        'Mobiles Vor-Ort-Labor'
      ],
      'contact': {
        'title': 'Kontakt',
        'name': 'Systems Engineering Kalibrierlaboratorium GmbH & Co KG',
        'email': 'info@systems-engineering.eu',
        'phone': '+49 2402 900180',
        'cta': { 'label': 'Kalibrierung anfragen', 'link': '/kontakt' }
      },
      'items': [
        {
          'year': '1983',
          'title': 'Gründung als Kalibrierbetrieb',
          'text': 'Start mit Fokus auf präzise, nachvollziehbare Messergebnisse für Industrie und Forschung.'
        },
        {
          'year': '1993',
          'title': 'PTB-Abnahme für Präzisionsmessplätze',
          'text': 'Abnahme der Präzisionsmessplätze als Basis für rückführbare und normgerechte Kalibrierungen.'
        },
        {
          'year': '1994',
          'title': 'Erste DAkkS-/DKD-Akkreditierung',
          'text': 'Anerkennung durch DAkkS/DKD als Fundament für auditierte Prüfketten und dokumentierte Normale.'
        },
        {
          'year': '2004',
          'title': 'Ausbau zum Vor-Ort-Kalibrierteam',
          'text': 'Erweiterung um mobile Einsätze mit abgestimmter Logistik für Termintreue und kurze Wege.'
        },
        {
          'year': '2009',
          'title': 'Umzug in erweitertes Labor',
          'text': 'Neues Labor mit zusätzlichen Referenznormalen, optimierten Messplätzen und skalierter Infrastruktur.'
        },
        {
          'year': '2014',
          'title': 'DAkkS-Umstellung nach ISO/IEC 17025',
          'text': 'Angepasste Prozesse und Messunsicherheiten nach aktueller Norm für auditierte Rückführbarkeit.'
        },
        {
          'year': 'Heute',
          'title': 'Modernes Labor für elektrische & thermische Messgrößen',
          'text': 'Digital dokumentierte Kalibrierpraxis mit mobilen Einsatzteams und kontinuierlicher Verbesserung.'
        }
      ]
    },
    {
      'type': 'TwoColumnSection',
      'anchor': 'digitales-portal',
      'title': 'Digitales Messmittelportal (calServer)',
      'image': laborMedia.asset('/assets/calserver-dashboard.png', laborAssetMap, basePath),
      'variant': 'feature',
      'tone': 'light',
      'text': 'Alle Messmittel. Ein Portal. Maximale Transparenz.\ncalServer bündelt Fristen, Historien, Zertifikate und Wartungen in einer cloudbasierten Plattform – DSGVO-konform, revisionssicher und 24/7 verfügbar.',
      'list': [
        'Live-Dashboard für alle Messmittel mit Rollen und Verantwortlichkeiten',
        'Digitale Akten mit Zertifikaten, Messhistorie und Dateien an einem Ort',
        'Automatische Erinnerungen für Kalibrierungen, Wartungen und Ausleihen',
        'Audit-Trail mit lückenloser Chronik und Änderungsprotokoll',
        'Gemeinsame Nutzung dank Team- und Partnerzugängen mit Rechtemodellen',
        'REST-API für ERP-, LIMS- oder Instandhaltungs-Workflows'
      ],
      'button': { 'label': 'Zum Messmittelportal', 'link': '/messmittelportal', 'style': 'primary' }
    },
    {
      'type': 'TwoColumnSection',
      'anchor': 'akkreditierung',
      'title': 'Vertrauen durch Qualität',
      'image': laborMedia.asset('/assets/dakks-logo.png', laborAssetMap, basePath),
      'variant': 'split',
      'tone': 'dark',
      'background': 'gradient',
      'text': 'Wir sind durch die Deutsche Akkreditierungsstelle (DAkkS) nach DIN EN ISO/IEC 17025 akkreditiert. Unsere Normale, Prozesse und Messunsicherheiten werden regelmäßig auditiert. Die aktuelle Akkreditierungsurkunde finden Sie hier.',
      'button': { 'label': 'Akkreditierung öffnen', 'link': '/akkreditierung', 'style': 'ghost' }
    },
    {
      'type': 'FeatureGridSection',
      'anchor': 'prozesse',
      'title': 'Kalibrieren mit Blick aufs Wesentliche',
      'description': 'Digital geführt, rückverfolgbar dokumentiert: Unsere Laborprozesse bleiben transparent wie eine Logistikkette – von der Abholung bis zum Zertifikat.',
      'columns': { 's': 1, 'm': 2, 'l': 3 },
      'items': [
        {
          'title': 'Digitale Prozessführung',
          'subtitle': 'Geführte Abläufe für jedes Messmittel',
          'features': [
            'Barcode-Scan, Seriennummern-Erkennung und automatische Auftragszuordnung',
            'Schritt-für-Schritt-Programme mit dokumentierter Messunsicherheit',
            'Live-Status inkl. Kommentaren und Freigaben je Kalibrierschritt'
          ]
        },
        {
          'title': 'Laborlogistik & Tracking',
          'subtitle': 'Transparenz wie in der City-Logistik',
          'features': [
            'Track & Trace vom Wareneingang bis zum Rückversand – inkl. Push bei Freigabe',
            'Abhol- und Bringrouten abgestimmt auf Ihre Produktionsfenster',
            'Sichere Verpackungs- und Transportkonzepte für sensible Messmittel'
          ]
        },
        {
          'title': 'Zertifikate & Compliance',
          'subtitle': 'Audit-sichere Dokumentation',
          'features': [
            'Signierte Zertifikate als PDF und JSON mit Versionshistorie',
            'Rollen- und Rechtekonzepte für QS, Einkauf und Produktion',
            'REST-API für ERP/LIMS und revisionssicheren Export'
          ]
        }
      ]
    },
    {
      'type': 'FaqSection',
      'anchor': 'faq',
      'title': 'Häufige Fragen zum Kalibrierlabor',
      'description': 'Kurze Antworten auf die wichtigsten Fragen rund um Ablauf, Dokumentation und Sicherheit.',
      'items': [
        {
          'question': 'Welche Messmittel kann ich kalibrieren lassen?',
          'answer': 'Wir kalibrieren elektrische und thermische Messgrößen – von Multimetern und Stromzangen bis hin zu Temperaturfühlern, Prüfständen und Prozesskalibratoren.'
        },
        {
          'question': 'Wie lange dauert die Kalibrierung?',
          'answer': 'Standardaufträge bearbeiten wir in 48 Stunden nach Wareneingang. Für Expressaufträge stimmen wir die Durchlaufzeit individuell ab.'
        },
        {
          'question': 'Erhalte ich digitale Zertifikate?',
          'answer': 'Ja. Jedes Messergebnis wird revisionssicher dokumentiert. Sie erhalten Zertifikate als PDF und JSON mit Versionshistorie in unserem Messmittelportal.'
        },
        {
          'question': 'Gibt es eine Vor-Ort-Kalibrierung?',
          'answer': 'Unsere mobilen Teams kalibrieren Ihre Messmittel direkt in der Produktion – inklusive abgestimmter Routenplanung und Reinraumkonzepten.'
        },
        {
          'question': 'Wie läuft der Versand?',
          'answer': 'Sie senden Ihre Geräte ein oder nutzen unseren Abholservice. Verpackungslösungen und Tracking stellen wir bereit, damit Ihre Messmittel sicher ankommen.'
        },
        {
          'question': 'Wie bleibt die Rückverfolgbarkeit gesichert?',
          'answer': 'Alle Normale sind rückführbar und werden regelmäßig auditiert. Messunsicherheiten und Prüfintervalle dokumentieren wir transparent im Zertifikat.'
        }
      ]
    },
    {
      'type': 'CTASection',
      'anchor': 'kontakt',
      'headline': 'Bereit für eine präzise Kalibrierung?',
      'subline': 'Fordern Sie ein unverbindliches Angebot an – Antwort innerhalb eines Werktages.',
      'variant': 'outline',
      'tone': 'light',
      'button': { 'label': 'Kalibrierung anfragen', 'link': '/kontakt', 'style': 'primary' }
    }
  ],
} %}

{% block title %}{{ metaTitle|default(pageConfig.title) }}{% endblock %}

{% block head %}
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="preload" href="{{ basePath }}/css/landing.css" as="style">
  <link rel="stylesheet" href="{{ basePath }}/css/landing.css">
  <link rel="stylesheet" href="{{ basePath }}/css/topbar.landing.css">
  <link rel="stylesheet" href="{{ basePath }}/css/labor.css">
  <meta name="page-name" content="Labor Landing Page">
{% endblock %}

{% block body_theme %}light{% endblock %}
{% block body_class %}labor-landing{% endblock %}

{% block body %}
  <header class="labor-header labor-topbar qr-topbar uk-position-sticky uk-top" id="start"
          uk-sticky="animation: uk-animation-slide-top; sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
    <nav class="labor-nav uk-navbar-container" uk-navbar>
      <div class="uk-navbar-left">
        <div class="uk-navbar-item">
          <a class="labor-logo" href="/" aria-label="Systems Engineering Startseite">
            <img src="{{ laborLogoUrl }}" alt="Systems Engineering" class="labor-logo__image" loading="eager">
          </a>
        </div>
      </div>
      <div class="uk-navbar-center uk-visible@m">
        <ul class="uk-navbar-nav labor-mega-nav">
          {% for item in megaNav %}
            <li>
              <a href="{{ item.items|first.href }}" uk-scroll aria-haspopup="true">{{ item.label }}</a>
              <div class="uk-navbar-dropdown uk-padding-remove" uk-dropdown="offset: 20; delay-hide: 150; pos: bottom-left">
                <div class="uk-grid-divider uk-grid-small uk-child-width-1-2@s" uk-grid>
                  <div>
                    <ul class="uk-nav uk-navbar-dropdown-nav">
                      {% for link in item.items %}
                        <li>
                          <a href="{{ link.href }}" uk-scroll data-explain="{{ link.explain }}">
                            {{ link.label }}
                          </a>
                        </li>
                      {% endfor %}
                    </ul>
                  </div>
                  <div class="menu-explain">
                    {% for explain in item.explains %}
                      <div class="explain-pane {{ loop.first ? '' : 'uk-hidden' }}" data-explain-pane="{{ explain.key }}">
                        <h5>{{ explain.title }}</h5>
                        <p>{{ explain.text }}</p>
                        <p class="menu-explain__subline">{{ explain.subline }}</p>
                      </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
      <div class="uk-navbar-right">
        <div class="uk-navbar-item uk-hidden@m">
          <button class="uk-navbar-toggle" type="button" aria-label="Menü"
                  uk-toggle="target: #labor-offcanvas" uk-navbar-toggle-icon></button>
        </div>
        <a class="uk-button uk-button-primary labor-nav__cta uk-visible@m" href="{{ contactLink.href }}" uk-scroll>
          {{ contactLink.label }}
        </a>
      </div>
    </nav>
    <div id="labor-offcanvas" uk-offcanvas="overlay: true">
      <div class="uk-offcanvas-bar">
        <button class="uk-offcanvas-close" type="button" aria-label="Menü schließen" uk-close></button>
        <ul class="uk-nav uk-nav-default labor-offcanvas__nav">
          {% for item in megaNav %}
            <li class="uk-nav-header">{{ item.label }}</li>
            {% for link in item.items %}
              <li><a href="{{ link.href }}" uk-scroll>{{ link.label }}</a></li>
            {% endfor %}
            {% if not loop.last %}
              <li class="uk-nav-divider"></li>
            {% endif %}
          {% endfor %}
        </ul>
        <a class="uk-button uk-button-primary labor-nav__cta uk-width-1-1" href="{{ contactLink.href }}" uk-scroll>
          {{ contactLink.label }}
        </a>
      </div>
    </div>
  </header>

  <main class="labor-main" aria-label="{{ pageConfig.title }}">
    {% for section in pageConfig.sections %}
      {% set variant = section.variant|default('default') %}
      {% set tone = section.tone|default('light') %}
      {% set background = section.background|default('plain') %}

      {% if section.type == 'HeroBlock' %}
        {% set heroVariant = section.variant|default('full') %}
        {% set heroTone = section.tone|default('dark') %}
        {% set heroBackground = section.background|default('image') %}
        {% set heroClasses = ['labor-hero', 'labor-hero--' ~ heroVariant, 'labor-hero--tone-' ~ heroTone] %}
        {% set heroStyle = '' %}
        {% if heroBackground == 'image' and section.backgroundImage is defined %}
          {% set heroStyle = "background-image: url('" ~ basePath ~ section.backgroundImage ~ "');" %}
        {% elseif heroBackground == 'gradient' %}
          {% set heroStyle = 'background-image: radial-gradient(circle at 20% 20%, rgba(63,133,246,0.35), transparent 35%), linear-gradient(120deg, #101a33, #1f3b73);' %}
        {% endif %}
        <section class="{{ heroClasses|join(' ') }}" style="{{ heroStyle }}" id="start">
          {% if heroBackground == 'image' %}
            <div class="labor-hero__overlay" aria-hidden="true"></div>
          {% endif %}
          <div class="uk-container">
            {% if heroVariant == 'split' %}
              <div class="labor-hero__grid uk-grid-large uk-grid-match uk-flex-middle" uk-grid>
                <div class="uk-width-expand@m">
                  <div class="labor-hero__content" uk-scrollspy="cls: uk-animation-slide-bottom-small; target: > *; delay: 100">
                    <p class="labor-eyebrow">{{ pageConfig.title }}</p>
                    <h1 class="labor-hero__headline">{{ section.headline }}</h1>
                    <p class="labor-hero__subline">{{ section.subline }}</p>
                    {% if section.valueProps is defined and section.valueProps|length > 0 %}
                      <ul class="labor-hero__value-props uk-list uk-list-large uk-list-divider uk-margin-medium-top" aria-label="Wichtigste Vorteile">
                        {% for item in section.valueProps %}
                          <li class="labor-hero__value-prop">
                            <span class="labor-hero__value-icon" aria-hidden="true" uk-icon="icon: {{ item.icon }}; ratio: 1.2"></span>
                            <span class="labor-hero__value-text"><strong>{{ item.title }}</strong>: {{ item.description }}</span>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                    <div class="labor-hero__actions uk-margin-medium-top" role="group" aria-label="Hauptaktionen">
                      {% for button in section.buttons %}
                        {% set buttonStyle = button.style|default(loop.first ? 'primary' : 'secondary') %}
                        {% set buttonSize = button.size|default('') %}
                        <a class="uk-button {{ buttonStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ buttonStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ buttonStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }} {{ buttonSize == 'large' ? 'uk-button-large' : '' }}" href="{{ button.link }}">{{ button.label }}</a>
                      {% endfor %}
                    </div>
                    {% if section.trustBadges is defined and section.trustBadges|length > 0 %}
                      <div class="labor-hero__trust uk-margin-medium-top">
                        <div class="uk-grid-small uk-grid-match uk-child-width-1-2@s uk-child-width-1-3@m labor-hero__trust-grid" uk-grid>
                          {% for badge in section.trustBadges %}
                            <div>
                              <article class="labor-hero__trust-card" aria-label="{{ badge }}">
                                <p class="labor-hero__trust-label">{{ badge }}</p>
                              </article>
                            </div>
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  </div>
                </div>
                <div class="uk-width-1-3@m">
                  <div class="labor-hero__media uk-card uk-card-default uk-card-body" aria-hidden="true"
                       uk-scrollspy="cls: uk-animation-fade; delay: 200">
                    {% if section.backgroundImage is defined %}
                      <img class="labor-hero__visual" src="{{ basePath ~ section.backgroundImage }}" alt="Kalibrierlabor" loading="lazy">
                    {% else %}
                      <div class="hero-image-placeholder uk-background-muted uk-flex uk-flex-center uk-flex-middle" style="min-height: 360px;">
                        <span class="uk-text-meta">[Bild/Mockup hier einfügen]</span>
                      </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% else %}
              <div class="labor-hero__grid">
                <div class="labor-hero__content" uk-scrollspy="cls: uk-animation-slide-bottom-small; target: > *; delay: 100">
                  <p class="labor-eyebrow">{{ pageConfig.title }}</p>
                  <h1 class="labor-hero__headline">{{ section.headline }}</h1>
                  <p class="labor-hero__subline">{{ section.subline }}</p>
                  <div class="labor-hero__actions" role="group" aria-label="Hauptaktionen">
                    {% for button in section.buttons %}
                      {% set buttonStyle = button.style|default(loop.first ? 'primary' : 'secondary') %}
                      {% set buttonSize = button.size|default('') %}
                      <a class="uk-button {{ buttonStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ buttonStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ buttonStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }} {{ buttonSize == 'large' ? 'uk-button-large' : '' }}" href="{{ button.link }}">{{ button.label }}</a>
                    {% endfor %}
                  </div>
                </div>
              </div>
            {% endif %}
          </div>
        </section>
      {% elseif section.type == 'KpiBand' %}
        {% set columns = section.columns|default({ 's': 2, 'm': 3, 'l': 4 }) %}
        {% set columnClasses = [
          'uk-child-width-1-' ~ (columns.s|default(2)) ~ '@s',
          'uk-child-width-1-' ~ (columns.m|default(3)) ~ '@m',
          'uk-child-width-1-' ~ (columns.l|default(4)) ~ '@l'
        ] %}
        <section class="uk-section labor-section labor-kpi-band" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container">
            <div class="labor-section__header">
              <h2 class="labor-section__title">{{ section.title }}</h2>
            </div>
            <div class="uk-grid-small {{ columnClasses|join(' ') }}" uk-grid>
              {% for item in section.items %}
                <div>
                  <div class="labor-kpi">
                    <span class="labor-kpi__value">{{ item.value }}</span>
                    <span class="labor-kpi__label">{{ item.label }}</span>
                    {% if item.description is defined %}
                      <p class="labor-kpi__description">{{ item.description }}</p>
                    {% endif %}
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </section>
      {% elseif section.type == 'TextBlock' %}
      {% set variant = section.variant|default('') %}
      {% set size = section.size|default('') %}
      {% set textClasses = ['uk-section', 'uk-section-large', 'labor-section', variant == 'muted' ? 'labor-section--muted' : '', variant == 'centered' ? 'labor-section--centered' : ''] %}
      {% set paragraphClasses = ['labor-section__text', size == 'large' ? 'labor-section__text--large' : ''] %}
      <section class="{{ textClasses|join(' ') }}">
        <div class="uk-container uk-container-large">
          <div class="uk-margin-auto {{ variant == 'centered' ? 'uk-text-center' : '' }}" style="max-width: 900px;">
            <h2 class="labor-section__title">{{ section.title }}</h2>
            <p class="{{ paragraphClasses|join(' ') }}">{{ section.text|nl2br }}</p>
          </div>
        </div>
      </section>
      {% elseif section.type == 'MeasurementTicker' %}
      <section class="uk-section labor-section labor-measurement-ticker" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container">
            <div class="labor-measurement-ticker__headline">
              <span class="labor-measurement-ticker__label">{{ section.label }}</span>
              <div class="labor-measurement-ticker__track" aria-hidden="true">
                <div class="labor-measurement-ticker__rail">
                  {% for item in section.items %}
                    <span class="labor-measurement-ticker__pill">{{ item }}</span>
                  {% endfor %}
                  {% for item in section.items %}
                    <span class="labor-measurement-ticker__pill">{{ item }}</span>
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="uk-hidden">{{ section.title }}</div>
          </div>
        </section>
      {% elseif section.type == 'IconGrid' %}
        {% set iconClasses = ['uk-section', 'labor-section', variant == 'muted' ? 'labor-section--muted' : ''] %}
        <section class="{{ iconClasses|join(' ') }}">
          <div class="uk-container">
            <div class="uk-child-width-1-2@s uk-child-width-1-{{ section.columns }}@l" uk-grid>
              {% for item in section.items %}
                <div>
                  <div class="labor-icon-card uk-card uk-card-default uk-card-body">
                    <div class="labor-icon-card__icon" aria-hidden="true" uk-icon="icon: {{ item.icon }}; ratio: 1.5"></div>
                    <h3 class="labor-icon-card__title">{{ item.title }}</h3>
                    <p class="labor-icon-card__text">{{ item.text }}</p>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </section>
      {% elseif section.type == 'CardGrid' %}
      {% set cardClasses = ['uk-section', 'labor-section', variant == 'muted' ? 'labor-section--muted' : ''] %}
      <section class="{{ cardClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
        <div class="uk-container">
          <div class="labor-section__header">
            <h2 class="labor-section__title">{{ section.title }}</h2>
          </div>
          <div class="uk-grid-small uk-child-width-1-2@m uk-child-width-1-{{ section.columns }}@l" uk-grid
               uk-scrollspy="target: .labor-card; cls: uk-animation-slide-bottom-small; delay: 120">
            {% for item in section.items %}
              <div>
                <div class="labor-card uk-card uk-card-default uk-card-body uk-card-hover uk-box-shadow-small {{ variant == 'split' ? 'labor-card--split' : '' }}">
                  <div class="labor-card__image" role="presentation">
                      <div class="labor-card__placeholder" aria-hidden="true">Bildvorschau</div>
                      <img src="{{ item.image }}" alt="{{ item.title }}" loading="lazy">
                    </div>
                    <h3 class="labor-card__title" lang="de">{{ item.title }}</h3>
                    <p class="labor-card__text">{{ item.text }}</p>
                    <a class="labor-card__link" href="{{ item.link }}">Mehr erfahren →</a>
                  </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </section>
    {% elseif section.type == 'AboutSection' %}
      {% set aboutClasses = ['uk-section', 'labor-section', 'labor-about', variant == 'muted' ? 'labor-section--muted' : ''] %}
      <section class="{{ aboutClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
        <div class="uk-container">
          <div class="uk-grid-large uk-child-width-1-2@m" uk-grid>
            <div uk-scrollspy="cls: uk-animation-slide-left-small; target: > *; delay: 120">
              {% if section.eyebrow is defined %}
                <p class="labor-eyebrow">{{ section.eyebrow }}</p>
              {% endif %}
              <h2 class="labor-section__title">{{ section.title }}</h2>
              {% for paragraph in section.text|split('\n') %}
                {% if paragraph|trim != '' %}
                  <p class="labor-section__text">{{ paragraph }}</p>
                {% endif %}
              {% endfor %}
            </div>
            <div uk-scrollspy="cls: uk-animation-fade; delay: 200">
              <div class="labor-about__panel" aria-label="Ansprechpartner und Fakten zum Labor">
                {% if section.highlights is defined and section.highlights|length > 0 %}
                  <ul class="labor-about__list">
                    {% for item in section.highlights %}
                      <li class="labor-about__item">
                        <span class="labor-about__label">{{ item.label }}</span>
                        <span class="labor-about__value">{{ item.value }}</span>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
                {% if section.contact is defined %}
                  <div class="labor-about__contact">
                    <p class="labor-about__contact-title">{{ section.contact.title }}</p>
                    {% if section.contact.name is defined %}
                      <p class="labor-about__contact-name">{{ section.contact.name }}</p>
                    {% endif %}
                    {% if section.contact.email is defined %}
                      <a class="labor-about__contact-link" href="mailto:{{ section.contact.email }}">{{ section.contact.email }}</a>
                    {% endif %}
                    {% if section.contact.phone is defined %}
                      <a class="labor-about__contact-link" href="tel:{{ section.contact.phone|replace({' ': ''}) }}">{{ section.contact.phone }}</a>
                    {% endif %}
                    {% if section.contact.cta is defined %}
                      {% set buttonStyle = section.contact.cta.style|default('primary') %}
                      <a class="uk-button {{ buttonStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ buttonStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ buttonStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }}" href="{{ section.contact.cta.link }}">{{ section.contact.cta.label }}</a>
                    {% endif %}
                  </div>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </section>
    {% elseif section.type == 'Timeline' %}
      {% set timelineClasses = ['uk-section', 'labor-section', 'labor-timeline-section', variant == 'muted' ? 'labor-section--muted' : ''] %}
      {% set hasTimelineAside = (section.contact is defined and section.contact) or (section.highlights is defined and section.highlights|length > 0) %}
      <section class="{{ timelineClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
        <div class="uk-container">
          <div uk-scrollspy="cls: uk-animation-slide-bottom-small; target: > *; delay: 100">
            <div class="uk-grid-large uk-grid-match" uk-grid>
              <div class="uk-width-1-1 uk-width-2-3@m">
                <div class="labor-section__header labor-section__header--timeline uk-width-2-3@m uk-width-expand@s uk-margin-auto">
                  {% if section.eyebrow is defined %}
                    <p class="labor-eyebrow uk-margin-remove">{{ section.eyebrow }}</p>
                  {% endif %}
                  <h2 class="labor-section__title uk-margin-small-top">{{ section.title }}</h2>
                  {% if section.intro is defined %}
                    <p class="labor-section__text uk-text-lead">{{ section.intro|raw }}</p>
                  {% endif %}
                  {% if section.text is defined %}
                    {% for paragraph in section.text|split('\n') %}
                      {% if paragraph|trim != '' %}
                        <p class="labor-section__text">{{ paragraph|raw }}</p>
                      {% endif %}
                    {% endfor %}
                  {% endif %}
                </div>
                <ol class="labor-timeline uk-margin-large-top" aria-label="Chronik des Kalibrierlabors"
                    uk-scrollspy="target: .labor-timeline__item; cls: uk-animation-slide-left-small; delay: 150">
                  {% for item in section.items %}
                    <li class="labor-timeline__item">
                      <div class="uk-grid-small uk-flex-middle" uk-grid>
                        <div class="uk-width-auto">
                          <div class="labor-timeline__year" uk-scrollspy="cls: uk-animation-fade; repeat: false">{{ item.year }}</div>
                        </div>
                        <div class="uk-width-expand">
                          <div class="labor-timeline__content">
                            <h3 class="labor-timeline__title">{{ item.title }}</h3>
                            <p class="labor-timeline__text">{{ item.text }}</p>
                          </div>
                        </div>
                      </div>
                    </li>
                  {% endfor %}
                </ol>
              </div>
              {% if hasTimelineAside %}
                <div class="uk-width-1-1 uk-width-1-3@m">
                  <aside class="labor-timeline__aside labor-about__panel" aria-label="{{ section.contact.title|default('Laborprofil') }}">
                    {% if section.highlights is defined and section.highlights|length > 0 %}
                      <ul class="labor-about__list">
                        {% for item in section.highlights %}
                          <li class="labor-about__item">
                            <span class="labor-about__label">{{ item.label }}</span>
                            <span class="labor-about__value">{{ item.value }}</span>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                    {% if section.milestones is defined and section.milestones|length > 0 %}
                      <div class="uk-margin-medium-top">
                        <p class="labor-about__contact-title">Meilensteine</p>
                        <ul class="uk-list uk-list-bullet uk-margin-remove-top">
                          {% for milestone in section.milestones %}
                            <li>{{ milestone }}</li>
                          {% endfor %}
                        </ul>
                      </div>
                    {% endif %}
                    {% if section.contact is defined and section.contact %}
                      <div class="labor-about__contact uk-margin-top">
                        {% if section.contact.title is defined %}
                          <p class="labor-about__contact-title">{{ section.contact.title }}</p>
                        {% endif %}
                        {% if section.contact.name is defined %}
                          <p class="labor-about__contact-name">{{ section.contact.name }}</p>
                        {% endif %}
                        {% if section.contact.email is defined %}
                          <a class="labor-about__contact-link" href="mailto:{{ section.contact.email }}">{{ section.contact.email}}</a>
                        {% endif %}
                        {% if section.contact.phone is defined %}
                          <a class="labor-about__contact-link" href="tel:{{ section.contact.phone|replace({' ': ''}) }}">{{ section.contact.phone }}</a>
                        {% endif %}
                        {% if section.contact.cta is defined %}
                          {% set timelineCtaStyle = section.contact.cta.style|default('primary') %}
                          <a class="uk-button {{ timelineCtaStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }}{{ timelineCtaStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ timelineCtaStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }}" href="{{ section.contact.cta.link }}">{{ section.contact.cta.label }}</a>
                        {% endif %}
                      </div>
                    {% endif %}
                  </aside>
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      </section>
    {% elseif section.type == 'ProcessStepper' %}
      {% set processClasses = ['uk-section', 'labor-section', variant == 'muted' ? 'labor-section--muted' : ''] %}
      {% set hasMedia = section.media is defined %}
      <section class="{{ processClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
        <div class="uk-container">
          <div class="labor-section__header">
              <h2 class="labor-section__title">{{ section.title }}</h2>
            </div>
          <div class="uk-grid-large uk-flex-middle uk-grid-match" uk-grid>
            <div class="{{ hasMedia ? 'uk-width-1-2@m' : 'uk-width-1-1' }}">
              <ol class="labor-stepper" aria-label="Ablauf der Kalibrierung">
                {% for step in section.steps %}
                  <li class="labor-stepper__item {{ variant == 'split' ? 'labor-stepper__item--split' : '' }}">
                    <div class="labor-stepper__index" aria-hidden="true">
                      {% if step.icon is defined %}
                        <span uk-icon="icon: {{ step.icon }}"></span>
                      {% else %}
                        {{ loop.index }}
                      {% endif %}
                    </div>
                    <div class="labor-stepper__body">
                      <h3 class="labor-stepper__title">{{ step.title }}</h3>
                      <p class="labor-stepper__text">{{ step.text }}</p>
                    </div>
                  </li>
                {% endfor %}
              </ol>
              {% if section.cta is defined %}
                {% set ctaStyle = section.cta.style|default('primary') %}
                {% set ctaSize = section.cta.size|default('default') %}
                {% set ctaSizeClass = ctaSize == 'small' ? 'uk-button-small' : '' %}
                <div class="labor-stepper__actions">
                  <a class="uk-button {{ ctaSizeClass }} {{ ctaStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ ctaStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ ctaStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }}" href="{{ section.cta.link }}">{{ section.cta.label }}</a>
                </div>
              {% endif %}
            </div>
            {% if hasMedia %}
              <div class="uk-width-1-2@m">
                <div class="labor-stepper__media uk-card uk-card-default uk-card-body uk-border-rounded">
                  {% set mediaType = section.media.type|default('video') %}
                  {% if mediaType == 'carousel' or mediaType == 'slider' %}
                    <div class="labor-stepper__slider" uk-slider="finite: true; autoplay: true; autoplay-interval: 4500">
                      <div class="uk-slider-container">
                        <ul class="uk-slider-items uk-child-width-1-1">
                          {% for item in section.media.items %}
                            <li>
                              <img src="{{ item.src }}" alt="{{ item.alt|default(section.title) }}" loading="lazy">
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                      <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin-small-top"></ul>
                    </div>
                  {% else %}
                    <div class="labor-stepper__video uk-inline">
                      <video class="uk-border-rounded" src="{{ basePath ~ section.media.src }}" {% if section.media.poster is defined %}poster="{{ basePath ~ section.media.poster }}"{% endif %} autoplay muted loop playsinline aria-label="{{ section.media.alt|default(section.title) }}"></video>
                    </div>
                  {% endif %}
                  {% if section.media.caption is defined %}
                    <p class="labor-stepper__caption uk-text-small uk-margin-small-top">{{ section.media.caption }}</p>
                  {% endif %}
                </div>
              </div>
            {% endif %}
          </div>
          </div>
        </section>
      {% elseif section.type == 'StorySlider' %}
        <section class="uk-section labor-section labor-story-slider labor-section--muted" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container">
            <div class="labor-section__header">
              <h2 class="labor-section__title">{{ section.title }}</h2>
            </div>
            {% if section.tags is defined and section.tags %}
              <ul class="scenario-cloud labor-story-slider__tags" aria-label="Branchenübersicht">
                {% for tag in section.tags %}
                  <li><a href="#">{{ tag }}</a></li>
                {% endfor %}
              </ul>
            {% endif %}
            <div class="uk-position-relative" uk-slider="center: true; autoplay: true; autoplay-interval: 6000; finite: false">
              <div class="uk-slider-container">
                <ul class="uk-slider-items uk-grid uk-grid-medium uk-child-width-1-1 uk-child-width-1-2@m uk-child-width-1-3@l" uk-grid-match="target: .labor-story">
                  {% for story in section.stories %}
                    <li>
                      <article class="labor-story">
                        <div class="labor-story__badge">{{ story.badge }}</div>
                        <h3 class="labor-story__title">{{ story.title }}</h3>
                        <p class="labor-story__text">{{ story.text }}</p>
                        {% if story.author is defined %}
                          <p class="labor-story__author">{{ story.author }}</p>
                        {% endif %}
                      </article>
                    </li>
                  {% endfor %}
                </ul>
              </div>
              <div class="labor-story__nav uk-visible@m">
                <a class="uk-slidenav-large" href="#" uk-slidenav-previous uk-slider-item="previous" aria-label="Vorherige Story"></a>
                <a class="uk-slidenav-large" href="#" uk-slidenav-next uk-slider-item="next" aria-label="Nächste Story"></a>
              </div>
              <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin-top"></ul>
            </div>
          </div>
        </section>
      {% elseif section.type == 'TwoColumnSection' %}
        {% set twoColumnClasses = ['uk-section', 'labor-section', variant == 'muted' ? 'labor-section--muted' : '', variant == 'feature' ? 'labor-section--feature' : '', tone == 'dark' ? 'labor-section--dark' : ''] %}
        {% set twoColumnStyle = '' %}
        {% if background == 'gradient' %}
          {% set twoColumnStyle = 'background-image: linear-gradient(135deg, #0f1a33 0%, #1c2f5c 50%, #2b4f9c 100%); color: #fff;' %}
        {% endif %}
        <section class="{{ twoColumnClasses|join(' ') }}" style="{{ twoColumnStyle }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container">
            {% set imageFirst = loop.index is even and variant != 'split' %}
            <div class="uk-grid-large uk-flex-middle" uk-grid>
              <div class="uk-width-1-2@m {% if not imageFirst %}uk-flex-last@m{% endif %}">
                <div class="labor-media">
                  <img src="{{ section.image }}" alt="{{ section.title }}" loading="lazy">
                </div>
              </div>
              <div class="uk-width-1-2@m">
                <div class="labor-text-block">
                  <h2 class="labor-section__title">{{ section.title }}</h2>
                  {% for paragraph in section.text|split('\n') %}
                    {% if paragraph|trim != '' %}
                      <p class="labor-section__text">{{ paragraph }}</p>
                    {% endif %}
                  {% endfor %}
                  {% if section.list is defined and section.list|length > 0 %}
                    <ul class="labor-feature-list" aria-label="Highlights des Angebots">
                      {% for item in section.list %}
                        <li class="labor-feature-list__item">
                          <span class="labor-feature-list__icon" aria-hidden="true"></span>
                          <span class="labor-feature-list__text">{{ item }}</span>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                  {% if section.button is defined %}
                    {% set buttonStyle = section.button.style|default('primary') %}
                    <a class="uk-button {{ buttonStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ buttonStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ buttonStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }}" href="{{ section.button.link }}">{{ section.button.label }}</a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </section>
      {% elseif section.type == 'FeatureGridSection' %}
        {% set columns = section.columns|default({ 's': 1, 'm': 2, 'l': 3 }) %}
        {% set columnClasses = [
          'uk-child-width-1-' ~ (columns.s|default(1)) ~ '@s',
          'uk-child-width-1-' ~ (columns.m|default(2)) ~ '@m',
          'uk-child-width-1-' ~ (columns.l|default(3)) ~ '@l'
        ] %}
        <section class="uk-section labor-section labor-feature-grid" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container">
            <div class="labor-feature-grid__intro uk-width-2-3@m">
              <h2 class="labor-section__title">{{ section.title }}</h2>
              {% if section.description is defined %}
                <p class="labor-section__text">{{ section.description }}</p>
              {% endif %}
            </div>
            <div class="labor-feature-grid__cards {{ columnClasses|join(' ') }}" uk-grid>
              {% for item in section.items %}
                <div>
                  <article class="labor-feature-card">
                    <div class="labor-feature-card__header">
                      <h3 class="labor-feature-card__title">{{ item.title }}</h3>
                      {% if item.subtitle is defined %}
                        <p class="labor-feature-card__subtitle">{{ item.subtitle }}</p>
                      {% endif %}
                    </div>
                    {% if item.features is defined and item.features|length > 0 %}
                      <ul class="labor-feature-list" aria-label="Hauptmerkmale">
                        {% for feature in item.features %}
                          <li class="labor-feature-list__item">
                            <span class="labor-feature-list__icon" aria-hidden="true"></span>
                            <span class="labor-feature-list__text">{{ feature }}</span>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </article>
                </div>
              {% endfor %}
            </div>
          </div>
        </section>
      {% elseif section.type == 'FaqSection' %}
        {% set faqClasses = ['uk-section', 'labor-section', 'labor-faq', variant == 'muted' ? 'labor-section--muted' : ''] %}
        <section class="{{ faqClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}>
          <div class="uk-container uk-container-small">
            <div class="labor-section__header labor-faq__header">
              <h2 class="labor-section__title">{{ section.title }}</h2>
              {% if section.description is defined %}
                <p class="labor-section__text">{{ section.description }}</p>
              {% endif %}
            </div>
            <ul class="labor-faq__list" uk-accordion="multiple: true">
              {% for item in section.items %}
                <li class="labor-faq__item {{ loop.first ? 'uk-open' : '' }}">
                  <a class="uk-accordion-title labor-faq__question" href="#">{{ item.question }}</a>
                  <div class="uk-accordion-content labor-faq__answer">
                    {% for paragraph in item.answer|split('\n') %}
                      {% if paragraph|trim != '' %}
                        <p>{{ paragraph }}</p>
                      {% endif %}
                    {% endfor %}
                  </div>
                </li>
              {% endfor %}
            </ul>
          </div>
        </section>
      {% elseif section.type == 'CTASection' %}
        {% set ctaVariant = section.variant|default('solid') %}
        {% set ctaTone = section.tone|default('dark') %}
      {% set ctaClasses = ['uk-section', 'labor-section', 'labor-cta', 'labor-cta--' ~ ctaVariant, 'labor-cta--tone-' ~ ctaTone] %}
        <section class="{{ ctaClasses|join(' ') }}" {% if section.anchor is defined %}id="{{ section.anchor }}"{% endif %}
                 uk-scrollspy="cls: uk-animation-slide-bottom-small">
          <div class="uk-container uk-text-center">
            <h2 class="labor-cta__headline">{{ section.headline }}</h2>
            <p class="labor-cta__subline">{{ section.subline }}</p>
            {% set buttonStyle = section.button.style|default('primary') %}
            <a class="uk-button {{ buttonStyle == 'primary' ? 'uk-button-primary labor-button-primary' : '' }} {{ buttonStyle == 'secondary' ? 'uk-button-default labor-button-secondary' : '' }} {{ buttonStyle == 'ghost' ? 'uk-button-default labor-button-ghost' : '' }} uk-transform-scale-small" href="{{ section.button.link }}">{{ section.button.label }}</a>
          </div>
        </section>
      {% endif %}
    {% endfor %}
  </main>

  <a class="uk-position-fixed uk-position-bottom-right uk-margin-large" href="#start" aria-label="Nach oben scrollen"
     uk-totop uk-scroll uk-scrollspy="cls: uk-animation-fade"></a>

  <footer class="labor-footer" aria-label="Footer">
    <div class="uk-container">
      <div class="uk-grid-large uk-child-width-1-3@m" uk-grid>
        <div>
          <h3 class="labor-footer__title">Navigation</h3>
          <ul class="labor-footer__links">
            <li><a href="/">Startseite</a></li>
            <li><a href="/kalibrierung">Kalibrierung</a></li>
            <li><a href="/akkreditierung">Akkreditierung</a></li>
            <li><a href="/branchen">Branchen</a></li>
            <li><a href="/ueber-uns">Über uns</a></li>
            <li><a href="/kontakt">Kontakt</a></li>
          </ul>
        </div>
        <div>
          <h3 class="labor-footer__title">Rechtliches</h3>
          <ul class="labor-footer__links">
            <li><a href="/impressum">Impressum</a></li>
            <li><a href="/datenschutz">Datenschutz</a></li>
            <li><a href="/downloads">AGB</a></li>
          </ul>
        </div>
        <div>
          <h3 class="labor-footer__title">Kontakt</h3>
          <ul class="labor-footer__contact">
            <li>Systems Engineering Kalibrierlaboratorium GmbH &amp; Co KG</li>
            <li>Leimberg 9<br>52222 Stolberg / Rheinland</li>
            <li><a href="mailto:info@systems-engineering.eu">info@systems-engineering.eu</a></li>
            <li><a href="tel:+492402900180">Fon 02402 - 90 01 80</a></li>
            <li><a href="tel:+49240227615">Fax: 02402 - 2 76 15</a></li>
            <li><a href="https://www.systems-engineering.eu">www.systems-engineering.eu</a></li>
          </ul>
        </div>
      </div>
      <div class="labor-footer__bottom">
        <p>© Systems Engineering Kalibrierlaboratorium GmbH &amp; Co KG · Alle Rechte vorbehalten</p>
      </div>
    </div>
  </footer>
{% endblock %}

{% block scripts %}
  {{ parent() }}
  <script>
    (function () {
      var hoverIntentTimer;

      function scheduleSwap(e) {
        var link = e.target.closest('.labor-nav a[data-explain]');
        if (!link) {
          return;
        }

        clearTimeout(hoverIntentTimer);

        if (e.type === 'focusin') {
          swapPane(link);
          return;
        }

        hoverIntentTimer = setTimeout(function () {
          swapPane(link);
        }, 90);
      }

      function swapPane(link) {
        var dropdown = link.closest('.uk-navbar-dropdown');
        if (!dropdown) {
          return;
        }

        var explainKey = link.getAttribute('data-explain');
        var panes = dropdown.querySelectorAll('.menu-explain .explain-pane');
        panes.forEach(function (pane) {
          var key = pane.getAttribute('data-explain-pane');
          pane.classList.toggle('uk-hidden', key !== explainKey);
        });
      }

      document.addEventListener('mouseover', scheduleSwap, true);
      document.addEventListener('focusin', scheduleSwap, true);

      document.addEventListener('DOMContentLoaded', function () {
        var topbar = document.querySelector('.labor-topbar');
        if (!topbar) {
          return;
        }

        var toggleTopbarState = function () {
          if (window.scrollY > 12) {
            topbar.classList.add('labor-topbar--condensed');
          } else {
            topbar.classList.remove('labor-topbar--condensed');
          }
        };

        toggleTopbarState();
        window.addEventListener('scroll', toggleTopbarState, { passive: true });
      });
    })();
  </script>
{% endblock %}
