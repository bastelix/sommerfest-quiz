{% extends 'layout.twig' %}

{% set newsBaseSlug = newsOwnerBaseSlug|default(page.slug) %}
{% set isCalserverTheme = newsBaseSlug == 'calserver' %}

{% block title %}{{ metaTitle|default('Neuigkeiten') }}{% endblock %}

{% block head %}
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ basePath }}/css/marketing.css">
  {% if isCalserverTheme %}
    <link rel="stylesheet" href="{{ basePath }}/css/calserver.css">
  {% endif %}
  <link rel="stylesheet" href="{{ basePath }}/css/highcontrast.css">
  <link rel="stylesheet" href="{{ basePath }}/css/onboarding.css">
  <link rel="stylesheet" href="{{ basePath }}/css/topbar.marketing.css">
  <script type="module" src="{{ basePath }}/js/marketing-design.js"></script>
{% endblock %}

{% block body_class %}marketing-page {% if isCalserverTheme %}calserver-layout calserver-news-page{% else %}dark-mode{% endif %}{% endblock %}

{% block body %}
  {% include 'marketing/partials/design-data.twig' %}
  <div class="marketing-layout">
    {% set sectionId = isCalserverTheme ? 'calserver-news' : 'landing-news' %}
    {% set sectionClasses = 'marketing-section uk-section uk-section-default marketing-news' %}
    {% if isCalserverTheme %}
      {% set sectionClasses = 'marketing-section uk-section uk-section-muted marketing-news calserver-news calserver-news--listing' %}
    {% endif %}
    <section id="{{ sectionId }}" class="{{ sectionClasses }}">
      <div class="uk-container">
        <a class="uk-button uk-button-text uk-margin-small-bottom" href="{{ landingPageUrl|default(basePath ~ '/' ~ page.slug) }}">&larr; Zur Landingpage</a>
        <h1 class="uk-heading-medium">Neuigkeiten zu {{ page.title }}</h1>
        <div class="uk-grid-medium uk-child-width-1-1 uk-child-width-1-2@m uk-child-width-1-3@l" uk-grid>
          {% for entry in entries %}
            <div>
              {% include 'marketing/_news_teaser.twig' with {
                entry: entry,
                newsBasePath: newsBasePath
              } %}
            </div>
          {% endfor %}
        </div>
      </div>
    </section>
  </div>
{% endblock %}
