/**
 * Section rendering styles for CMS block-based pages.
 *
 * These rules apply the section background colours, intent presets, inner
 * panel styles, and layout variants generated by the block renderer matrix.
 * The file is loaded independently of landing.css so that CMS page output
 * and the admin page-editor preview can display namespace-themed sections.
 */

/* ------------------------------------------------------------------ */
/*  Base section                                                       */
/* ------------------------------------------------------------------ */

.section {
  --section-surface: transparent;
  --section-bg-color: var(--section-surface);
  --section-padding-outer: clamp(20px, 4vw, 48px);
  --section-padding-inner: clamp(22px, 4vw, 44px);
  --section-bg-overlay: 0;
  --section-overlay-color: color-mix(in srgb, var(--color-text, #0b1728) 16%, transparent);
  --section-text-color: var(--color-text, inherit);
  color: var(--section-text-color, var(--color-text, inherit));
  padding: var(--section-padding-outer) 0;
  background: var(--section-bg-color);
}

.section + .section {
  margin-top: var(--marketing-section-gap, var(--section-gap));
}

/* ------------------------------------------------------------------ */
/*  Intent presets                                                     */
/* ------------------------------------------------------------------ */

.section[data-section-intent="content"] {
  --section-surface: var(--surface);
  --section-padding-outer: clamp(20px, 4vw, 48px);
  --section-padding-inner: clamp(22px, 4vw, 44px);
}

.section[data-section-intent="plain"] {
  --section-surface: var(--surface);
  --section-padding-outer: clamp(20px, 4vw, 48px);
  --section-padding-inner: clamp(22px, 4vw, 44px);
}

.section[data-section-intent="feature"] {
  --section-surface: var(--surface-muted);
  --section-padding-outer: clamp(28px, 5vw, 64px);
  --section-padding-inner: clamp(28px, 5vw, 60px);
}

.section[data-section-intent="highlight"] {
  --section-surface: var(--accent-primary, var(--brand-primary, #1e87f0));
  --section-padding-outer: clamp(32px, 6vw, 72px);
  --section-padding-inner: clamp(32px, 6vw, 68px);
  --section-text-color: var(--text-on-primary, #ffffff);
}

.section[data-section-intent="hero"] {
  --section-surface: color-mix(in srgb, var(--accent-secondary, var(--accent-primary, #1e87f0)) 85%, #0b1728);
  --section-padding-outer: clamp(36px, 7vw, 88px);
  --section-padding-inner: clamp(36px, 7vw, 80px);
}

/* ------------------------------------------------------------------ */
/*  Background (colour / image)                                        */
/* ------------------------------------------------------------------ */

.section[data-section-background] {
  position: relative;
  background-color: var(--section-bg-color, var(--section-surface));
  background-image: var(--section-bg-image, none);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: var(--section-bg-attachment, scroll);
}

.section .uk-container {
  position: relative;
}

.section[data-section-background] .section__inner {
  position: relative;
  z-index: 1;
}

.section[data-section-background]::before {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, var(--section-bg-overlay, 0));
  background: color-mix(
    in srgb,
    var(--section-overlay-color, rgba(15, 23, 42, 0.12)) calc(var(--section-bg-overlay, 0) * 100%),
    transparent
  );
  pointer-events: none;
  z-index: 0;
}

.section[data-block-type="stat_strip"],
.section[data-block-type="faq"] {
  --section-bg-color: var(--section-surface, transparent);
  --section-bg-overlay: 0;
}

/* ------------------------------------------------------------------ */
/*  Inner panels                                                       */
/* ------------------------------------------------------------------ */

.section__inner {
  background: var(--section-surface-inner, transparent);
  border-radius: var(--card-radius-square, 8px);
  box-sizing: border-box;
  max-width: 100%;
  padding: var(--section-padding-inner);
  width: 100%;
}

.section__inner--panel {
  background: var(--surface);
  border-radius: var(--card-radius);
  border: 1px solid color-mix(in srgb, var(--surface-muted) 72%, var(--surface) 28%);
  box-shadow: 0 16px 32px rgba(15, 23, 42, 0.08);
}

.section__inner--card {
  background: var(--surface);
  border-radius: var(--card-radius);
  border: 1px solid color-mix(in srgb, var(--surface-muted) 70%, var(--surface) 30%);
  box-shadow: 0 22px 48px rgba(15, 23, 42, 0.09);
}

.section__inner--accent {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: var(--card-radius);
  box-shadow: 0 28px 60px rgba(0, 0, 0, 0.18);
}

/* Hero inner panel */
.section[data-section-intent="hero"] {
  --section-hero-surface: color-mix(
    in srgb,
    var(--section-surface, var(--surface)) 88%,
    var(--section-surface-muted, var(--surface-muted)) 12%
  );
  --section-hero-border: color-mix(
    in srgb,
    var(--section-surface-muted, var(--surface-muted)) 68%,
    var(--section-surface, var(--surface)) 32%
  );
  --section-hero-glow: color-mix(
    in srgb,
    var(--accent-secondary, var(--accent-primary, var(--brand-primary, #1e87f0))) 22%,
    rgba(0, 0, 0, 0.18)
  );
}

.section__inner--hero {
  background: var(--section-hero-surface);
  color: var(--section-text-color, var(--color-text));
  border: 1px solid var(--section-hero-border);
  border-radius: calc(var(--card-radius) + 4px);
  box-shadow: 0 34px 76px color-mix(in srgb, var(--section-hero-glow) 55%, rgba(0, 0, 0, 0.24));
  backdrop-filter: blur(4px);
}

.section[data-section-intent="hero"] .section__inner--hero a {
  color: inherit;
}

/* ------------------------------------------------------------------ */
/*  Layout variants                                                    */
/* ------------------------------------------------------------------ */

.section--contained .section__inner {
  background: var(--surface);
}

.section--full {
  background: var(--section-bg-color, var(--surface-muted));
  padding: var(--section-padding-outer) 0;
}

.section--full .section__inner {
  padding: var(--section-padding-inner);
}

.section[data-section-layout="card"] .section__inner {
  background: var(--surface);
  border-radius: var(--card-radius);
  border: 1px solid color-mix(in srgb, var(--surface-muted) 70%, var(--surface) 30%);
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.05);
}

.section--full[data-section-layout="card"] .section__inner {
  background: var(--surface);
  border-radius: var(--card-radius);
  border: 1px solid color-mix(in srgb, var(--surface-muted) 70%, var(--surface) 30%);
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.05);
}

/* ------------------------------------------------------------------ */
/*  Link colours on dark surfaces                                      */
/* ------------------------------------------------------------------ */

.section[data-section-intent="highlight"] a,
.section[data-section-intent="hero"] a {
  color: inherit;
}

/* ------------------------------------------------------------------ */
/*  Legacy appearance                                                  */
/* ------------------------------------------------------------------ */

.section[data-appearance-legacy="contrast"] {
  background: var(--brand-primary, #1e87f0);
  color: var(--text-on-primary, #ffffff);
}

.section[data-appearance-legacy="contrast"] a,
.section[data-appearance-legacy="contrast"] a:hover {
  color: inherit;
}

.section[data-appearance-legacy="image"],
.section[data-appearance-legacy="image-fixed"] {
  background-image: var(--section-bg-image);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.section[data-appearance-legacy="image-fixed"] {
  background-attachment: var(--section-bg-attachment, fixed);
}

/* ------------------------------------------------------------------ */
/*  Responsive / reduced-motion                                        */
/* ------------------------------------------------------------------ */

@media (max-width: 959px), (prefers-reduced-motion: reduce) {
  .section[data-appearance-legacy="image-fixed"] {
    background-attachment: scroll;
  }

  .section[data-section-background] {
    --section-bg-attachment: scroll;
  }
}
